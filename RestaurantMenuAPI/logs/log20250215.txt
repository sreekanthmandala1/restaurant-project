2025-02-15 19:42:51.598 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 19:42:53.094 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 19:42:53.094 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 19:42:53.231 +05:30 [ERR] Connection ID "18158513728427917336", Request ID "40000019-0007-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.ValidateState(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2025-02-15 19:42:53.610 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 0 12366 application/javascript;+charset=utf-8 509.8704ms
2025-02-15 19:42:54.300 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 19:42:54.303 +05:30 [INF] Hosting environment: Development
2025-02-15 19:42:54.303 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 19:42:54.838 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 1767.1340ms
2025-02-15 19:42:54.855 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 19:42:54.865 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 19:42:54.878 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.8119ms
2025-02-15 19:42:55.089 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 233.7285ms
2025-02-15 19:42:55.125 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 19:42:55.576 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 450.8701ms
2025-02-15 19:43:02.522 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 19:43:05.537 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 19:43:05.563 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 19:43:05.568 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 3046.1871ms
2025-02-15 19:43:22.033 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 19:43:22.046 +05:30 [INF] CORS policy execution successful.
2025-02-15 19:43:22.067 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 19:43:22.195 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 19:43:24.584 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 19:43:24.609 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 2399.0646ms
2025-02-15 19:43:24.625 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 19:43:24.625 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2592.2276ms
2025-02-15 19:43:30.602 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 19:43:30.605 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 19:43:30.605 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 19:43:30.609 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 4.5701ms
2025-02-15 19:50:07.411 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 19:50:07.663 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 19:50:07.663 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 19:50:07.717 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 58.0316ms
2025-02-15 19:50:07.833 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 19:50:07.833 +05:30 [INF] Hosting environment: Development
2025-02-15 19:50:07.833 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 19:50:07.947 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 290.5079ms
2025-02-15 19:50:07.964 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 19:50:07.965 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 0.9623ms
2025-02-15 19:50:07.972 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 19:50:08.026 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.7896ms
2025-02-15 19:50:08.056 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 19:50:08.165 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.5703ms
2025-02-15 19:50:34.441 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 19:50:34.457 +05:30 [INF] CORS policy execution successful.
2025-02-15 19:50:34.806 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 19:50:34.929 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 19:50:37.166 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 19:50:37.205 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 2259.4819ms
2025-02-15 19:50:37.228 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 19:50:37.228 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2786.5567ms
2025-02-15 19:51:11.555 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 19:51:11.612 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 19:51:11.616 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 19:51:11.625 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 19:51:11.627 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 71.6887ms
2025-02-15 19:51:43.475 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 19:51:43.479 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 19:51:43.480 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 19:51:43.484 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 19:51:43.494 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 19.4728ms
2025-02-15 19:52:00.724 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 99
2025-02-15 19:52:00.724 +05:30 [INF] CORS policy execution successful.
2025-02-15 19:52:00.724 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 19:52:00.725 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 19:52:00.725 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 19:52:00.728 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 99 - 401 - - 3.9723ms
2025-02-15 19:53:16.680 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 19:53:16.680 +05:30 [INF] CORS policy execution successful.
2025-02-15 19:53:16.911 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 19:53:16.912 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 19:53:23.991 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 19:53:23.993 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 7080.5074ms
2025-02-15 19:53:23.993 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 19:53:23.994 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 7315.9047ms
2025-02-15 19:53:28.537 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 19:53:28.538 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 19:53:28.556 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 19:53:33.011 +05:30 [INF] Fetching all menu items...
2025-02-15 19:53:33.519 +05:30 [WRN] No store type was specified for the decimal property 'Price' on entity type 'MenuItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-15 19:53:33.698 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 19:53:36.000 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 19:53:36.156 +05:30 [INF] Successfully fetched menu items.
2025-02-15 19:53:36.161 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 19:53:36.171 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 7614.6637ms
2025-02-15 19:53:36.172 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 19:53:36.194 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 7657.2529ms
2025-02-15 19:59:43.017 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem - -
2025-02-15 19:59:43.017 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 19:59:43.017 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 19:59:44.716 +05:30 [INF] Fetching all menu items...
2025-02-15 19:59:44.779 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 19:59:44.795 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 19:59:44.795 +05:30 [INF] Successfully fetched menu items.
2025-02-15 19:59:44.795 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 19:59:44.796 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 1778.2846ms
2025-02-15 19:59:44.796 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 19:59:44.796 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 1779.3837ms
2025-02-15 20:00:04.805 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:00:04.806 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:00:04.806 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:00:08.055 +05:30 [INF] Fetching all menu items...
2025-02-15 20:00:08.104 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:00:08.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:00:08.108 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:00:08.108 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:00:08.108 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 3302.4793ms
2025-02-15 20:00:08.109 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:00:08.109 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 3303.5801ms
2025-02-15 20:00:15.337 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem                                 - -
2025-02-15 20:00:15.341 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem                                 - - - 404 - - 4.7928ms
2025-02-15 20:00:17.742 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem                                 - -
2025-02-15 20:00:17.744 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem                                 - - - 404 - - 1.8597ms
2025-02-15 20:00:20.735 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem                                 - -
2025-02-15 20:00:20.737 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem                                 - - - 404 - - 1.8444ms
2025-02-15 20:00:38.077 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:00:38.077 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:00:38.078 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:00:39.656 +05:30 [INF] Fetching all menu items...
2025-02-15 20:00:39.657 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:00:39.674 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:00:39.681 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:00:39.684 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:00:39.685 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 1606.9629ms
2025-02-15 20:00:39.685 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:00:39.686 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 1608.8925ms
2025-02-15 20:01:26.527 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 104
2025-02-15 20:01:26.527 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:01:26.527 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:01:26.530 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:01:26.554 +05:30 [INF] Processing menu item: {"Id":0,"Name":"Pasta","Description":"cheese pasta","Price":10,"Category":"Snacks","$type":"MenuItem"}
2025-02-15 20:01:28.566 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:01:28.769 +05:30 [ERR] Failed executing DbCommand (65ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:01:28.844 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:000e5a6d-db3a-41b4-8e8f-4e2d4dcaa70e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:000e5a6d-db3a-41b4-8e8f-4e2d4dcaa70e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:01:28.954 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"Pasta","Description":"cheese pasta","Price":10,"Category":"Snacks","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:000e5a6d-db3a-41b4-8e8f-4e2d4dcaa70e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:01:28.977 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:01:28.978 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 2447.2679ms
2025-02-15 20:01:28.978 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:01:28.978 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 104 - 500 - text/plain;+charset=utf-8 2451.1526ms
2025-02-15 20:01:45.227 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 104
2025-02-15 20:01:45.227 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:01:45.228 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:01:45.228 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:01:45.228 +05:30 [INF] Processing menu item: {"Id":0,"Name":"Pasta","Description":"cheese pasta","Price":10,"Category":"Snacks","$type":"MenuItem"}
2025-02-15 20:01:56.323 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:01:56.366 +05:30 [ERR] Failed executing DbCommand (41ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:01:56.369 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:000e5a6d-db3a-41b4-8e8f-4e2d4dcaa70e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:000e5a6d-db3a-41b4-8e8f-4e2d4dcaa70e
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:03:43.474 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 20:03:43.710 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 20:03:43.882 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 20:03:43.882 +05:30 [INF] Hosting environment: Development
2025-02-15 20:03:43.882 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 20:03:44.049 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 342.5911ms
2025-02-15 20:03:44.069 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 20:03:44.069 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:03:44.081 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 5.8059ms
2025-02-15 20:03:44.148 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.6869ms
2025-02-15 20:03:44.177 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 20:03:44.294 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.6771ms
2025-02-15 20:04:17.126 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 20:04:17.357 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:04:17.357 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 20:04:17.386 +05:30 [ERR] Connection ID "18230571313875910745", Request ID "4000005a-0005-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.ValidateState(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2025-02-15 20:04:17.427 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 0 12366 application/javascript;+charset=utf-8 74.7300ms
2025-02-15 20:04:17.577 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 20:04:17.578 +05:30 [INF] Hosting environment: Development
2025-02-15 20:04:17.578 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 20:04:17.722 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 373.0294ms
2025-02-15 20:04:17.730 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:04:17.733 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 2.7885ms
2025-02-15 20:04:17.736 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 20:04:17.752 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:04:17.755 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 1.5034ms
2025-02-15 20:04:17.799 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.0483ms
2025-02-15 20:04:17.830 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 20:04:17.941 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.5815ms
2025-02-15 20:04:19.975 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:04:19.977 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 1.4076ms
2025-02-15 20:04:29.142 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:04:29.538 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:04:29.579 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:04:29.584 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 441.6479ms
2025-02-15 20:05:30.419 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 20:05:30.444 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:05:30.463 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:05:30.603 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 20:05:32.767 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 20:05:32.798 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 2177.1432ms
2025-02-15 20:05:32.814 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:05:32.814 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2395.6529ms
2025-02-15 20:11:24.020 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 20:11:24.027 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:11:24.027 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:11:24.028 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 20:11:25.626 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 20:11:25.627 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 1599.4516ms
2025-02-15 20:11:25.627 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:11:25.628 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 1607.2950ms
2025-02-15 20:14:12.974 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 20:14:12.978 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:14:12.980 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:14:12.980 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 20:14:14.705 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 20:14:14.707 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 1727.0915ms
2025-02-15 20:14:14.707 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:14:14.707 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 1733.5816ms
2025-02-15 20:15:45.271 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:15:45.287 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 20:15:45.288 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:15:45.310 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:15:45.311 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 41.0365ms
2025-02-15 20:17:33.314 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:17:33.315 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 20:17:33.321 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:17:33.321 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:17:33.322 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 7.8803ms
2025-02-15 20:18:01.048 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:18:01.310 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:18:01.339 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:18:05.152 +05:30 [INF] Fetching all menu items...
2025-02-15 20:18:06.542 +05:30 [WRN] No store type was specified for the decimal property 'Price' on entity type 'MenuItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-15 20:18:07.054 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:18:09.513 +05:30 [INF] Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:18:09.891 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:18:09.903 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:18:09.942 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 8603.2144ms
2025-02-15 20:18:09.946 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:18:09.987 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 8939.5158ms
2025-02-15 20:18:22.121 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 98
2025-02-15 20:18:22.121 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:18:22.122 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 20:18:22.122 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:18:22.122 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:18:22.124 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 98 - 401 - - 3.0658ms
2025-02-15 20:18:45.301 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem - 0
2025-02-15 20:18:45.302 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-15 20:18:45.303 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-15 20:18:45.304 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem - 0 - 405 - - 2.3942ms
2025-02-15 20:19:18.558 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem application/json 108
2025-02-15 20:19:18.563 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-15 20:19:18.565 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-15 20:19:18.567 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem application/json 108 - 405 - - 9.9459ms
2025-02-15 20:19:28.341 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem application/json 108
2025-02-15 20:19:28.342 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:19:28.342 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:19:30.213 +05:30 [INF] Fetching all menu items...
2025-02-15 20:19:30.282 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:19:30.344 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:19:30.345 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:19:30.345 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:19:30.346 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 2003.89ms
2025-02-15 20:19:30.346 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:19:30.347 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem application/json 108 - 200 - application/json;+charset=utf-8 2005.4825ms
2025-02-15 20:20:04.560 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem application/json 108
2025-02-15 20:20:04.560 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-15 20:20:04.561 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-15 20:20:04.562 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem application/json 108 - 405 - - 1.6525ms
2025-02-15 20:20:37.041 +05:30 [INF] Request starting HTTP/1.1 PUT https://localhost:44391/api/MenuItem application/json 108
2025-02-15 20:20:37.048 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:20:37.051 +05:30 [INF] Route matched with {action = "Update", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:20:37.079 +05:30 [INF] Updating menu item: {"Id":null,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:20:37.139 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:20:37.361 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [MenuItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2025-02-15 20:20:37.417 +05:30 [INF] Menu item updated successfully: {"Id":27,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:20:37.418 +05:30 [INF] Executing OkObjectResult, writing value of type 'RestaurantMenuAPI.Models.MenuItem'.
2025-02-15 20:20:37.419 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI) in 367.6122ms
2025-02-15 20:20:37.419 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:20:37.419 +05:30 [INF] Request finished HTTP/1.1 PUT https://localhost:44391/api/MenuItem application/json 108 - 200 - application/json;+charset=utf-8 378.7384ms
2025-02-15 20:20:51.915 +05:30 [INF] Request starting HTTP/1.1 PUT https://localhost:44391/api/MenuItem application/json 105
2025-02-15 20:20:51.916 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:20:51.916 +05:30 [INF] Route matched with {action = "Update", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:20:51.918 +05:30 [INF] Updating menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:20:51.918 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:20:51.928 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MenuItems] SET [Category] = @p0, [Description] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2025-02-15 20:20:52.327 +05:30 [ERR] Error occurred while updating menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithoutPropagationAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.UpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 56
   at RestaurantMenuAPI.Services.MenuItemService.UpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 43
   at RestaurantMenuAPI.Controllers.MenuItemController.Update(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 100
2025-02-15 20:20:52.352 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:20:52.353 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI) in 437.3724ms
2025-02-15 20:20:52.353 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:20:52.354 +05:30 [INF] Request finished HTTP/1.1 PUT https://localhost:44391/api/MenuItem application/json 105 - 500 - text/plain;+charset=utf-8 438.2449ms
2025-02-15 20:21:13.903 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 98
2025-02-15 20:21:13.903 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:21:13.903 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 20:21:13.904 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:21:13.904 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:21:13.906 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 98 - 401 - - 2.6934ms
2025-02-15 20:21:52.025 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 105
2025-02-15 20:21:52.027 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:21:52.035 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:21:52.038 +05:30 [INF] Processing menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:21:54.096 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:21:54.119 +05:30 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:21:54.139 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:21:54.252 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:21:54.255 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:21:54.256 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 2220.9899ms
2025-02-15 20:21:54.256 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:21:54.256 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 105 - 500 - text/plain;+charset=utf-8 2230.8777ms
2025-02-15 20:22:05.157 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 108
2025-02-15 20:22:05.158 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:22:05.159 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:22:05.160 +05:30 [INF] Processing menu item: {"Id":null,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:22:07.035 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:22:07.045 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [MenuItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2025-02-15 20:22:07.060 +05:30 [INF] Menu item processed successfully: {"Id":28,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:22:07.060 +05:30 [INF] Executing OkObjectResult, writing value of type 'RestaurantMenuAPI.Models.MenuItem'.
2025-02-15 20:22:07.061 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 1902.0425ms
2025-02-15 20:22:07.061 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:22:07.062 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 108 - 200 - application/json;+charset=utf-8 1904.5085ms
2025-02-15 20:23:01.682 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 105
2025-02-15 20:23:01.686 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:23:01.686 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:23:01.687 +05:30 [INF] Processing menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:23:36.816 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:23:38.923 +05:30 [ERR] Failed executing DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:23:38.927 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:23:39.059 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:23:39.062 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:23:39.063 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 37376.1428ms
2025-02-15 20:23:39.063 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:23:39.063 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 105 - 500 - text/plain;+charset=utf-8 37381.7354ms
2025-02-15 20:24:02.352 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44391/api/MenuItem application/json 105
2025-02-15 20:24:02.361 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:24:02.361 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:24:03.991 +05:30 [INF] Fetching all menu items...
2025-02-15 20:24:03.992 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:24:04.006 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:24:04.010 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:24:04.014 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:24:04.017 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 1655.7803ms
2025-02-15 20:24:04.017 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:24:04.018 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44391/api/MenuItem application/json 105 - 200 - application/json;+charset=utf-8 1665.5723ms
2025-02-15 20:24:35.735 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 105
2025-02-15 20:24:35.736 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:24:35.736 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:24:35.737 +05:30 [INF] Processing menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
2025-02-15 20:24:41.778 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:24:49.349 +05:30 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:24:49.353 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:24:49.483 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"string","Description":"string","Price":20,"Category":"string","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:40ea6c32-5af5-4a99-9041-51fffb077bcb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:24:49.485 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:24:49.486 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 13750.1405ms
2025-02-15 20:24:49.487 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:24:49.487 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 105 - 500 - text/plain;+charset=utf-8 13751.8829ms
2025-02-15 20:25:43.676 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem/26 - -
2025-02-15 20:25:43.677 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:25:43.677 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:25:43.678 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem/26 - - - 401 - - 1.3535ms
2025-02-15 20:26:03.815 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 20:26:04.112 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:26:04.112 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 20:26:04.170 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 60.2424ms
2025-02-15 20:26:04.294 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 20:26:04.294 +05:30 [INF] Hosting environment: Development
2025-02-15 20:26:04.294 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 20:26:04.437 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 330.2005ms
2025-02-15 20:26:04.450 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:26:04.451 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 1.0334ms
2025-02-15 20:26:04.455 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 20:26:04.512 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.2080ms
2025-02-15 20:26:04.541 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 20:26:04.644 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.7304ms
2025-02-15 20:26:34.562 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 50
2025-02-15 20:26:34.577 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:26:34.953 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:26:35.068 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 20:26:37.142 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-15 20:26:37.193 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 2108.2653ms
2025-02-15 20:26:37.212 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:26:37.212 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 50 - 401 - application/problem+json;+charset=utf-8 2650.0839ms
2025-02-15 20:27:26.947 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 20:27:27.868 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:27:27.868 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 20:27:27.992 +05:30 [ERR] Connection ID "18374686484771897381", Request ID "40000026-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.ValidateState(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2025-02-15 20:27:28.256 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 0 12366 application/javascript;+charset=utf-8 394.4025ms
2025-02-15 20:27:28.855 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 20:27:28.857 +05:30 [INF] Hosting environment: Development
2025-02-15 20:27:28.857 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 20:27:29.321 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 1472.5684ms
2025-02-15 20:27:29.340 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 20:27:29.340 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:27:29.348 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 7.5054ms
2025-02-15 20:27:29.557 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 217.1525ms
2025-02-15 20:27:29.597 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 20:27:30.001 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 403.7607ms
2025-02-15 20:27:56.327 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 20:27:56.343 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:27:59.441 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:27:59.560 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 20:28:02.025 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 20:28:02.052 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 2477.3617ms
2025-02-15 20:28:02.067 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:28:02.068 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 5741.2821ms
2025-02-15 20:28:52.432 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:28:52.472 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 20:28:52.478 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:28:52.490 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:28:52.492 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 60.0960ms
2025-02-15 20:28:53.927 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:28:53.932 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-15 20:28:53.932 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:28:53.933 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:28:53.934 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 6.8582ms
2025-02-15 20:29:25.088 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:29:25.203 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:29:25.223 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:29:27.605 +05:30 [INF] Fetching all menu items...
2025-02-15 20:29:28.068 +05:30 [WRN] No store type was specified for the decimal property 'Price' on entity type 'MenuItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-15 20:29:28.210 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:29:30.227 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:29:30.336 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:29:30.339 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:29:30.353 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 5129.4407ms
2025-02-15 20:29:30.355 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:29:30.375 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 5288.0920ms
2025-02-15 20:30:00.315 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 92
2025-02-15 20:30:00.315 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:30:00.318 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:30:00.321 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:30:00.349 +05:30 [INF] Processing menu item: {"Id":0,"Name":"abc","Description":"xyz","Price":60,"Category":"dfghj","$type":"MenuItem"}
2025-02-15 20:30:09.208 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:30:19.439 +05:30 [ERR] Failed executing DbCommand (70ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:30:19.477 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3564a176-5249-4408-8099-502235e75ebf
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3564a176-5249-4408-8099-502235e75ebf
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:30:19.613 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"abc","Description":"xyz","Price":60,"Category":"dfghj","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3564a176-5249-4408-8099-502235e75ebf
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:30:19.631 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:30:19.631 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 19309.9895ms
2025-02-15 20:30:19.631 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:30:19.632 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 92 - 500 - text/plain;+charset=utf-8 19316.5877ms
2025-02-15 20:31:22.346 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 92
2025-02-15 20:31:22.351 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:31:22.353 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:31:22.354 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:31:22.363 +05:30 [INF] Processing menu item: {"Id":0,"Name":"abc","Description":"xyz","Price":60,"Category":"dfghj","$type":"MenuItem"}
2025-02-15 20:31:37.169 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:31:55.781 +05:30 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:31:55.786 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3564a176-5249-4408-8099-502235e75ebf
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3564a176-5249-4408-8099-502235e75ebf
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:31:55.926 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"abc","Description":"xyz","Price":60,"Category":"dfghj","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3564a176-5249-4408-8099-502235e75ebf
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:31:55.929 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:31:55.930 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 33575.7723ms
2025-02-15 20:31:55.930 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:31:55.930 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 92 - 500 - text/plain;+charset=utf-8 33584.5188ms
2025-02-15 20:32:18.964 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 95
2025-02-15 20:32:18.965 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:32:18.971 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:32:18.973 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:32:18.975 +05:30 [INF] Processing menu item: {"Id":null,"Name":"abc","Description":"xyz","Price":60,"Category":"dfghj","$type":"MenuItem"}
2025-02-15 20:32:22.032 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:32:22.112 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [MenuItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2025-02-15 20:32:22.917 +05:30 [INF] Menu item processed successfully: {"Id":29,"Name":"abc","Description":"xyz","Price":60,"Category":"dfghj","$type":"MenuItem"}
2025-02-15 20:32:22.917 +05:30 [INF] Executing OkObjectResult, writing value of type 'RestaurantMenuAPI.Models.MenuItem'.
2025-02-15 20:32:22.918 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 3944.5935ms
2025-02-15 20:32:22.918 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:32:22.918 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 95 - 200 - application/json;+charset=utf-8 3956.0452ms
2025-02-15 20:33:44.033 +05:30 [INF] User profile is available. Using 'C:\Users\sreek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-15 20:33:44.264 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2025-02-15 20:33:44.264 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:33:44.287 +05:30 [ERR] Connection ID "18374686484771897383", Request ID "40000028-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.ValidateState(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.HttpResponseStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.WriteAsync(ReadOnlyMemory`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2025-02-15 20:33:44.330 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 0 12366 application/javascript;+charset=utf-8 66.9540ms
2025-02-15 20:33:44.478 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 20:33:44.478 +05:30 [INF] Hosting environment: Development
2025-02-15 20:33:44.478 +05:30 [INF] Content root path: F:\restaurant-project\RestaurantMenuAPI\
2025-02-15 20:33:44.633 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 374.6369ms
2025-02-15 20:33:44.644 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2025-02-15 20:33:44.647 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 2.8399ms
2025-02-15 20:33:44.652 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2025-02-15 20:33:44.714 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.2292ms
2025-02-15 20:33:44.752 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2025-02-15 20:33:44.879 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.9857ms
2025-02-15 20:33:58.602 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:33:59.081 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-15 20:33:59.106 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-15 20:33:59.110 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 401 - - 508.8822ms
2025-02-15 20:34:20.869 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/auth/login application/json 51
2025-02-15 20:34:20.900 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:34:20.920 +05:30 [INF] Executing endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:34:21.034 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(LoginRequest) on controller AuthController (RestaurantMenuAPI).
2025-02-15 20:34:23.290 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-15 20:34:23.319 +05:30 [INF] Executed action AuthController.Login (RestaurantMenuAPI) in 2269.4558ms
2025-02-15 20:34:23.335 +05:30 [INF] Executed endpoint 'AuthController.Login (RestaurantMenuAPI)'
2025-02-15 20:34:23.336 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2466.5112ms
2025-02-15 20:34:50.639 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44391/api/MenuItem - -
2025-02-15 20:34:50.705 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:34:50.747 +05:30 [INF] Route matched with {action = "GetAll", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:34:52.936 +05:30 [INF] Fetching all menu items...
2025-02-15 20:34:53.361 +05:30 [WRN] No store type was specified for the decimal property 'Price' on entity type 'MenuItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-15 20:34:53.503 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:34:54.265 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
2025-02-15 20:34:54.390 +05:30 [INF] Successfully fetched menu items.
2025-02-15 20:34:54.395 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RestaurantMenuAPI.Models.MenuItem, RestaurantMenuAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-15 20:34:54.407 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI) in 3660.0565ms
2025-02-15 20:34:54.409 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.GetAll (RestaurantMenuAPI)'
2025-02-15 20:34:54.421 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44391/api/MenuItem - - - 200 - application/json;+charset=utf-8 3782.3224ms
2025-02-15 20:35:32.120 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 92
2025-02-15 20:35:32.122 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:35:32.122 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:35:32.126 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:35:32.156 +05:30 [INF] Processing menu item: {"Id":0,"Name":"qwsx","Description":"asd","Price":40,"Category":"azxd","$type":"MenuItem"}
2025-02-15 20:35:35.342 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:35:35.583 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__menuItem_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[Id] = @__menuItem_Id_0
2025-02-15 20:35:35.726 +05:30 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([Id], [Category], [Description], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-15 20:35:35.764 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantMenuAPI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd71ba2b-5a1b-4e39-8563-bd4259c4af34
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd71ba2b-5a1b-4e39-8563-bd4259c4af34
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-15 20:35:35.864 +05:30 [ERR] Error occurred while processing menu item: {"Id":0,"Name":"qwsx","Description":"asd","Price":40,"Category":"azxd","$type":"MenuItem"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'MenuItems' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd71ba2b-5a1b-4e39-8563-bd4259c4af34
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantMenuAPI.Repositories.MenuItemRepository.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Repositories\MenuItemRepository.cs:line 49
   at RestaurantMenuAPI.Services.MenuItemService.AddOrUpdateAsync(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Services\MenuItemService.cs:line 38
   at RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate(MenuItem menuItem) in F:\restaurant-project\RestaurantMenuAPI\Controllers\MenuItemController.cs:line 81
2025-02-15 20:35:35.880 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-15 20:35:35.880 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 3754.2511ms
2025-02-15 20:35:35.880 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:35:35.880 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 92 - 500 - text/plain;+charset=utf-8 3760.1326ms
2025-02-15 20:36:16.271 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 93
2025-02-15 20:36:16.272 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:36:16.273 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:36:16.275 +05:30 [INF] Route matched with {action = "AddOrUpdate", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdate(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:36:16.287 +05:30 [INF] Processing menu item: {"Id":28,"Name":"qwsx","Description":"asd","Price":40,"Category":"azxd","$type":"MenuItem"}
2025-02-15 20:36:22.265 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:36:22.277 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__menuItem_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Category], [m].[Description], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[Id] = @__menuItem_Id_0
2025-02-15 20:36:22.293 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MenuItems] SET [Category] = @p0, [Description] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2025-02-15 20:36:23.472 +05:30 [INF] Menu item processed successfully: {"Id":28,"Name":"qwsx","Description":"asd","Price":40,"Category":"azxd","$type":"MenuItem"}
2025-02-15 20:36:23.472 +05:30 [INF] Executing OkObjectResult, writing value of type 'RestaurantMenuAPI.Models.MenuItem'.
2025-02-15 20:36:23.473 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI) in 7197.268ms
2025-02-15 20:36:23.473 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.AddOrUpdate (RestaurantMenuAPI)'
2025-02-15 20:36:23.473 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44391/api/MenuItem/addOrUpdate application/json 93 - 200 - application/json;+charset=utf-8 7202.6610ms
2025-02-15 20:37:39.563 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 99
2025-02-15 20:37:39.564 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:37:39.566 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:37:39.579 +05:30 [INF] Route matched with {action = "Update", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:37:39.582 +05:30 [INF] Updating menu item: {"Id":28,"Name":"string","Description":"string","Price":0,"Category":"string","$type":"MenuItem"}
2025-02-15 20:37:39.588 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:37:39.618 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MenuItems] SET [Category] = @p0, [Description] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2025-02-15 20:37:39.627 +05:30 [INF] Menu item updated successfully: {"Id":28,"Name":"string","Description":"string","Price":0,"Category":"string","$type":"MenuItem"}
2025-02-15 20:37:39.629 +05:30 [INF] Executing OkObjectResult, writing value of type 'RestaurantMenuAPI.Models.MenuItem'.
2025-02-15 20:37:39.630 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI) in 50.4354ms
2025-02-15 20:37:39.630 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:37:39.630 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 99 - 200 - application/json;+charset=utf-8 67.8837ms
2025-02-15 20:37:55.150 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 99
2025-02-15 20:37:55.150 +05:30 [INF] CORS policy execution successful.
2025-02-15 20:37:55.151 +05:30 [INF] Executing endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:37:55.151 +05:30 [INF] Route matched with {action = "Update", controller = "MenuItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(RestaurantMenuAPI.Models.MenuItem) on controller RestaurantMenuAPI.Controllers.MenuItemController (RestaurantMenuAPI).
2025-02-15 20:37:55.152 +05:30 [INF] Updating menu item: {"Id":28,"Name":"asdfc","Description":"string","Price":40,"Category":"string","$type":"MenuItem"}
2025-02-15 20:37:55.153 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-02-15 20:37:55.168 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [MenuItems] SET [Category] = @p0, [Description] = @p1, [Name] = @p2, [Price] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2025-02-15 20:37:55.178 +05:30 [INF] Menu item updated successfully: {"Id":28,"Name":"asdfc","Description":"string","Price":40,"Category":"string","$type":"MenuItem"}
2025-02-15 20:37:55.179 +05:30 [INF] Executing OkObjectResult, writing value of type 'RestaurantMenuAPI.Models.MenuItem'.
2025-02-15 20:37:55.185 +05:30 [INF] Executed action RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI) in 33.9915ms
2025-02-15 20:37:55.186 +05:30 [INF] Executed endpoint 'RestaurantMenuAPI.Controllers.MenuItemController.Update (RestaurantMenuAPI)'
2025-02-15 20:37:55.186 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:44391/api/MenuItem application/json 99 - 200 - application/json;+charset=utf-8 36.1107ms
